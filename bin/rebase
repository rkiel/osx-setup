#!/usr/bin/env ruby

raise "USAGE: rebase branch" unless ARGV.size == 1


rebase_branch = ARGV[0]
feature_branch = `git branch|grep '\*'|sed 's/\*\s*//'`.strip
remote_branch = `git branch -r|grep origin|grep -v '\-'|grep #{feature_branch}`.strip

raise "invalid feature branch: #{feature_branch}" if ['master','develop'].include? feature_branch

puts rebase_branch
puts feature_branch
puts remote_branch

def run_cmd ( cmd )
  puts cmd
end

run_cmd "git checkout #{rebase_branch}"
